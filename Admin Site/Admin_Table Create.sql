CLEAR SCREEN;
SET SERVEROUTPUT ON;
SET VERIFY OFF;

DROP TABLE Host_info CASCADE CONSTRAINTS;
DROP TABLE Question_Gallery1 CASCADE CONSTRAINTS;
DROP TABLE Option_List CASCADE CONSTRAINTS;
DROP TABLE Answer_List CASCADE CONSTRAINTS;
DROP TABLE Round_info CASCADE CONSTRAINTS;
DROP TABLE Asking1 CASCADE CONSTRAINTS;
DROP TABLE Answer1 CASCADE CONSTRAINTS;
DROP TABLE Answer2 CASCADE CONSTRAINTS;

CREATE TABLE Host_info(HID INTEGER, NAME VARCHAR2(50), AGE INTEGER, GENDER VARCHAR2(10), MOBILE INTEGER,
					   PRIMARY KEY(HID));

CREATE TABLE Round_info(RID INTEGER, ROUND_NAME VARCHAR2(50),
					    PRIMARY KEY (RID));

CREATE TABLE Option_List(OID INTEGER, OP1 VARCHAR2(25), OP2 VARCHAR2(25), OP3 VARCHAR2(25), OP4 VARCHAR2(25),
					     PRIMARY KEY (OID));

CREATE TABLE Question_Gallery1(QID INTEGER, RID INTEGER, MARKS INTEGER, QUESTION VARCHAR2(500), OID INTEGER,
							   PRIMARY KEY(QID), FOREIGN KEY (RID) REFERENCES Round_info (RID),
							   FOREIGN KEY (OID) REFERENCES Option_List (OID));

CREATE TABLE Answer_List(QID INTEGER, ANSWER INTEGER,
						 FOREIGN KEY (QID) REFERENCES Question_Gallery1 (QID));

CREATE TABLE Asking1(QID INTEGER, PID INTEGER, RID INTEGER,
					 FOREIGN KEY (QID) REFERENCES Question_Gallery1 (QID), 
					 FOREIGN KEY (RID) REFERENCES Round_info (RID));
					 
CREATE TABLE Answer1(QID INTEGER, GIVEN_ANSWER INTEGER,
					 FOREIGN KEY (QID) REFERENCES Question_Gallery1 (QID));
					 
CREATE TABLE Answer2(QID INTEGER, GIVEN_ANSWER INTEGER,
					 FOREIGN KEY (QID) REFERENCES Question_Gallery1 (QID));
			 

CREATE OR REPLACE TRIGGER HOST_INFO_INPUT
BEFORE INSERT ON Host_info
DECLARE
BEGIN
	DBMS_OUTPUT.PUT_LINE('THE HOST INFO HAS BEEN ADDED');
END;
/

ACCEPT A CHAR PROMPT "HOST NAME : ";
ACCEPT B NUMBER PROMPT "AGE : ";
ACCEPT C NUMBER PROMPT "GENDER : 1. MALE	2. FEMALE	??? ";
ACCEPT D NUMBER PROMPT "MOBILE : ";
	
BEGIN
	
	DELETE FROM Host_info;
	IF (&C = 1) THEN
		INSERT INTO Host_info VALUES(1001, '&A', &B, 'MALE', &D);
	ELSIF (&C = 2) THEN
		INSERT INTO Host_info VALUES(1001, '&A', &B, 'FEMALE', &D);
	END IF;
	
END;
/

INSERT INTO Round_info VALUES(1011, 'SIMPLE');
INSERT INTO Round_info VALUES(1012, 'LIGHTEN');
INSERT INTO Round_info VALUES(1013, 'FREEGY');

INSERT INTO Option_List VALUES(101, 'Kolkata', 'Dhaka', 'Islamabad', 'Yangon');
INSERT INTO Option_List VALUES(102, '1965', '1971', '1980', '1952');
INSERT INTO Option_List VALUES(103, 'Sheikh Mujibur Rahman', 'Ziaur Rahman', 'Huseyn Shaheed Suhrawardy', 'Tajuddin Ahmad');
INSERT INTO Option_List VALUES(104, 'Chittagong', 'Sylhet', 'Dhaka', 'Rajshahi');
INSERT INTO Option_List VALUES(105, 'Blue Star', 'Trident', 'Desert Storm', 'Searchlight');

INSERT INTO Question_Gallery1 VALUES(1, 1011, 4, 'Capital of Bangladesh ?', 101);
INSERT INTO Question_Gallery1 VALUES(2, 1012, 6, 'Independence year of Bangladesh ?', 102);
INSERT INTO Question_Gallery1 VALUES(3, 1012, 6, 'Founding leader of Bangladesh ?', 103);
INSERT INTO Question_Gallery1 VALUES(4, 1013, 12, 'City of Pakistani surrender in 1971 ?', 104);
INSERT INTO Question_Gallery1 VALUES(5, 1013, 12, 'Name of 1971 military operation ?', 105);

INSERT INTO Answer_List VALUES(1, 2);
INSERT INTO Answer_List VALUES(2, 2);
INSERT INTO Answer_List VALUES(3, 1);
INSERT INTO Answer_List VALUES(4, 3);
INSERT INTO Answer_List VALUES(5, 4);


COMMIT;